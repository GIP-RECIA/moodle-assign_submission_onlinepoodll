define ("assignsubmission_onlinepoodll/submissionhelper",["jquery","core/log","core/str"],function(a,b,c){"use strict";b.debug("submission helper: initialising");return{uploadstate:!1,togglestate:0,strings:{},init:function init(a){this.component=a.component;this.filecontrolid=a.filecontrolid;this.togglingthing=a.togglingthing;this.register_controls();this.register_events();if("currentsubmission"==this.togglingthing){if(a.expandcurrentsubmission){this.toggle_currentsubmission(this)}}},register_controls:function register_controls(){var b=this;this.controls={};this.controls.deletebutton=a("."+this.component+"_deletesubmissionbutton");this.controls.updatecontrol=a("#"+this.filecontrolid);this.controls.currentcontainer=a("."+this.component+"_currentsubmission");this.controls.reccontainer=a("."+this.component+"_recorder");this.controls.togglecontainer=a("."+this.component+"_togglecontainer");this.controls.togglebutton=a("."+this.component+"_togglecontainer .togglebutton");this.controls.toggletext=a("."+this.component+"_togglecontainer .toggletext");c.get_string("clicktohide",b.component).done(function(a){b.strings.clicktohide=a});c.get_string("clicktoshow",b.component).done(function(a){b.strings.clicktoshow=a})},register_events:function register_events(){var a=this;this.controls.deletebutton.click(function(){if(a.controls.updatecontrol){if(confirm(M.util.get_string("reallydeletesubmission",a.component))){a.controls.updatecontrol.val(-1);a.controls.currentcontainer.html("")}}});if("currentsubmission"===this.togglingthing){this.controls.togglebutton.click(function(){a.toggle_currentsubmission(a)});this.controls.toggletext.click(function(){a.toggle_currentsubmission(a)})}else if("recorder"===this.togglingthing){this.controls.togglebutton.click(function(){a.toggle_recorder(a)});this.controls.toggletext.click(function(){a.toggle_recorder(a)})}},do_toggle:function do_toggle(a){if(0===a.togglestate){a.controls.togglebutton.removeClass("fa-toggle-off");a.controls.togglebutton.addClass("fa-toggle-on");a.controls.toggletext.text(a.strings.clicktohide);a.togglestate=1}else{a.controls.togglebutton.removeClass("fa-toggle-on");a.controls.togglebutton.addClass("fa-toggle-off");a.controls.toggletext.text(a.strings.clicktoshow);a.togglestate=0}},toggle_currentsubmission:function toggle_currentsubmission(a){a.controls.currentcontainer.toggle({duration:300,complete:function complete(){a.do_toggle(a)}});return!1},toggle_recorder:function toggle_recorder(a){a.controls.reccontainer.toggle({duration:300,complete:function complete(){a.do_toggle(a)}});return!1}}});
//# sourceMappingURL=submissionhelper.min.js.map
